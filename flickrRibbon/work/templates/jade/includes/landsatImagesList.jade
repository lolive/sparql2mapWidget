script.
 function calculateBorders(kmlId) {
    var latlonbox = $("document groundoverlay latlonbox", document.getElementById(kmlId));
    window.Bus.publish('BordersCalculated', 
     { "left":$("west", latlonbox).text(),
      "right":$("east", latlonbox).text(),
      "top":$("north", latlonbox).text(),
      "bottom":$("south", latlonbox).text() }
    );
 }
 window.Bus.subscribe("Landsat parsed", function(){
  $('.satelliteImage').click(injectSelectedKmlInGE);
  $('.satelliteImage').click(calculateBorders);
  $('.satelliteImage').click(linkLandsatImageToMainURI);
 });

 
 function linkLandsatImageToMainURI(kmlId) {
    $('.satelliteImage').removeAttr("property");
    $('[href='+kmlId+']').attr('property','http://toto/#illustratedByImage');
 }
 function selectCorrespondingKml(kmlId) {
   injectSelectedKmlInGE(kmlId);
   calculateBorders(kmlId);
 }
    

ul
 li(data-qrepeat='satelliteImage http://toto/#satelliteImage')
  table
   tr
    td(colspan='2')
     a.satelliteImage(href='#LXXXX')(data-qattr='resource satelliteImage|uri; href satelliteImage|http://toto/#fileid ,#')(onclick='selectCorrespondingKml(this.attributes.href.value);')
      span(data-qtext='satelliteImage|http://toto/#fileid') LXXXX
   tr
    td
     | Sensor:
     span(data-qtext='html satelliteImage|http://toto/#sensor') l0
    td
     | Date:
     span(data-qtext='html satelliteImage|http://toto/#when') 1011899
